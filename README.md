# Monitor Fish - Polymarket Whale Alert

–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫—Ä—É–ø–Ω—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤ –Ω–∞ Polymarket –¥–ª—è —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö –∏ –∫–∏–±–µ—Ä—Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö –º–∞—Ç—á–µ–π.

## –ß—Ç–æ –¥–µ–ª–∞–µ—Ç

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç LIVE –º–∞—Ç—á–∏ (NBA, NHL, NFL, Valorant, CS2, Dota 2 –∏ –¥—Ä.)
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∫—Ä—É–ø–Ω—ã–µ BUY –æ—Ä–¥–µ—Ä–∞ –≤ orderbook —á–µ—Ä–µ–∑ WebSocket
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∞–ª–µ—Ä—Ç—ã –≤ Telegram –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ "–∫–∏—Ç–æ–≤"
- –§–∏–ª—å—Ç—Ä—É–µ—Ç –ø–æ —Ä–∞–∑–º–µ—Ä—É, —Ü–µ–Ω–µ –∏ –≤—Ä–µ–º–µ–Ω–∏ –∂–∏–∑–Ω–∏ –æ—Ä–¥–µ—Ä–∞

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 18+
- Polymarket API –∫–ª—é—á–∏ (CLOB)
- Telegram –±–æ—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ Ubuntu VPS

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js

```bash
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt install -y nodejs
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PM2

```bash
sudo npm install -g pm2
```

### 3. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

```bash
cd ~
git clone https://github.com/Bezoutoff/Monitor_fish.git
cd Monitor_fish
npm install
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env

```bash
nano .env
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:
```env
POLY_API_KEY=–≤–∞—à_–∫–ª—é—á
POLY_API_SECRET=–≤–∞—à_—Å–µ–∫—Ä–µ—Ç
POLY_PASSPHRASE=–≤–∞—à_passphrase

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
MONITOR_MIN_SIZE=10000
MONITOR_MIN_PRICE=0.10
MONITOR_MAX_PRICE=0.90
MONITOR_ALERT_AGE=120
MONITOR_MATCH_CHECK_INTERVAL=300000
```

### 5. –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
npm run build
pm2 start dist/monitor/order-monitor.js --name monitor-fish
```

### 6. –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏

```bash
pm2 save
pm2 startup
# –í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –∫–æ—Ç–æ—Ä—É—é –≤—ã–¥–∞—Å—Ç pm2 startup
systemctl enable pm2-root
```

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã PM2

```bash
pm2 logs monitor-fish        # –õ–æ–≥–∏
pm2 logs monitor-fish -f     # –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
pm2 status                   # –°—Ç–∞—Ç—É—Å –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
pm2 restart monitor-fish     # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
pm2 stop monitor-fish        # –û—Å—Ç–∞–Ω–æ–≤–∫–∞
pm2 monit                    # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ CPU/RAM
```

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### Script not found: dist/index.js

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å –∫ —Å–∫—Ä–∏–ø—Ç—É.

**–†–µ—à–µ–Ω–∏–µ:**
```bash
pm2 start dist/monitor/order-monitor.js --name monitor-fish
```

### Missing CLOB API credentials

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ —Å–æ–∑–¥–∞–Ω –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π .env —Ñ–∞–π–ª.

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
2. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ:
   - `POLY_API_KEY`
   - `POLY_API_SECRET`
   - `POLY_PASSPHRASE`

### WebSocket disconnected

**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç—å—é –∏–ª–∏ API Polymarket.

**–†–µ—à–µ–Ω–∏–µ:** –ú–æ–Ω–∏—Ç–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è. –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–∞—è - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

### –ú–Ω–æ–≥–æ —Å—Ç–∞—Ä—ã—Ö –º–∞—Ç—á–µ–π –≤ –ø–æ–¥–ø–∏—Å–∫–µ

**–ü—Ä–∏—á–∏–Ω–∞:** API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç "–∑–æ–º–±–∏" —Ä—ã–Ω–∫–∏.

**–†–µ—à–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ - –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ `acceptingOrders` –∏ 6-—á–∞—Å–æ–≤–æ–º—É –æ–∫–Ω—É.

### Corrupted JSON file

**–ü—Ä–∏—á–∏–Ω–∞:** Race condition –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ –ª–æ–≥–æ–≤ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ).

**–†–µ—à–µ–Ω–∏–µ:** –£–¥–∞–ª–∏—Ç—å –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã–π —Ñ–∞–π–ª –≤ `order-monitor-logs/` –∏–ª–∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å JSON –≤—Ä—É—á–Ω—É—é.

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|--------------|----------|
| `MONITOR_MIN_SIZE` | 10000 | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –æ—Ä–¥–µ—Ä–∞ (shares) |
| `MONITOR_MIN_PRICE` | 0.10 | –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ (10¬¢) |
| `MONITOR_MAX_PRICE` | 0.90 | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ (90¬¢) |
| `MONITOR_ALERT_AGE` | 120 | –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ –æ—Ä–¥–µ—Ä–∞ –¥–ª—è –∞–ª–µ—Ä—Ç–∞ (—Å–µ–∫) |
| `MONITOR_MATCH_CHECK_INTERVAL` | 300000 | –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–≤—ã—Ö –º–∞—Ç—á–µ–π (–º—Å, 5 –º–∏–Ω) |
| `MONITOR_DELTA_TOLERANCE` | 0.05 | –î–æ–ø—É—Å—Ç–∏–º–æ–µ —É–º–µ–Ω—å—à–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ (5%) |
| `MONITOR_MIN_IMPACT` | 0.10 | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–∏—Ä–æ—Å—Ç –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ (10%) |

## Telegram –∞–ª–µ—Ä—Ç—ã

–ê–ª–µ—Ä—Ç—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
```
üêã WHALE ALERT üèÄ

üìä Los Angeles Lakers
üí∞ 15.2k shares @ 65¬¢
üíµ Value: $9.9k

üèÄ nba-lal-bos-2025-11-28

üìà Open Market
```

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ Telegram –≤ `src/monitor/alert-manager.ts`.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ monitor/
‚îÇ   ‚îú‚îÄ‚îÄ order-monitor.ts    # –ì–ª–∞–≤–Ω—ã–π –º–æ–¥—É–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ order-tracker.ts    # –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—Ä–¥–µ—Ä–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ live-match-finder.ts # –ü–æ–∏—Å–∫ LIVE –º–∞—Ç—á–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ alert-manager.ts    # Telegram –∞–ª–µ—Ä—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ types.ts            # –¢–∏–ø—ã
‚îú‚îÄ‚îÄ parsers/
‚îÇ   ‚îî‚îÄ‚îÄ polymarket-websocket.ts # WebSocket –∫–ª–∏–µ–Ω—Ç
‚îî‚îÄ‚îÄ config/
    ‚îî‚îÄ‚îÄ index.ts            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
